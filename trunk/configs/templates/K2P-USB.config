### 目标厂商/产品（仅支持 Ralink RT3883/MT7620/MT7621/MT7628 芯片）
CONFIG_VENDOR=Ralink          # 厂商选择为Ralink
CONFIG_PRODUCT=MT7621         # 产品芯片型号选择MT7621

### 目标产品ID（主板选择，最多12个字符）
CONFIG_FIRMWARE_PRODUCT_ID="K2P-USB"  # 固件产品ID标识为K2P-USB

### Linux内核和工具链配置
CONFIG_FIRMWARE_INCLUDE_SFE=y         # 启用SFE（Fast Path）快速转发引擎，提升网络转发性能

CONFIG_LINUXDIR=linux-3.4.x           # 指定Linux内核源码目录为linux-3.4.x

############################################################
### Linux内核配置
############################################################

### 编译ROOTFS_IN_RAM固件模式（内核+内存根文件系统）
### 固件体积更小，但占用更多内存，启动速度较慢
### 也支持从UART控制台无闪存加载镜像
#CONFIG_FIRMWARE_TYPE_ROOTFS_IN_RAM=y

### 强制将MT7621 CPU时钟频率设置为900MHz（覆盖Uboot默认设置）
#CONFIG_FIRMWARE_CPU_900MHZ=y

### 启用MT7621 CPU休眠模式（空闲时降频至220MHz）
#CONFIG_FIRMWARE_CPU_SLEEP=y

### WiFi AP 2.4GHz/5GHz内核驱动版本选择
CONFIG_FIRMWARE_WIFI_DRIVER=5.0.5.1               # WiFi驱动版本选择5.0.5.1
CONFIG_FIRMWARE_KERNEL_CONFIG="kernel-3.4.x-5.0.config"  # 指定内核配置文件

### 启用IPv6协议支持
CONFIG_FIRMWARE_ENABLE_IPV6=y

### 启用USB功能支持
CONFIG_FIRMWARE_ENABLE_USB=y

### 通过Paragon "ufsd"驱动启用NTFS文件系统支持，约占用0.4MB空间
CONFIG_FIRMWARE_ENABLE_UFSD=y

### 启用FAT/FAT32文件系统支持，约占用0.1MB空间
CONFIG_FIRMWARE_ENABLE_FAT=y

### 启用exFAT文件系统支持（同时包含FAT/FAT32），约占用0.12MB空间
CONFIG_FIRMWARE_ENABLE_EXFAT=y

### 启用EXT2文件系统支持，约占用0.1MB空间
CONFIG_FIRMWARE_ENABLE_EXT2=y

### 启用EXT3文件系统支持，约占用0.2MB空间
CONFIG_FIRMWARE_ENABLE_EXT3=y

### 启用EXT4文件系统支持（同时包含EXT3/EXT2），约占用0.4MB空间
CONFIG_FIRMWARE_ENABLE_EXT4=y

### 启用XFS文件系统支持，约占用0.6MB空间
CONFIG_FIRMWARE_ENABLE_XFS=n

### 启用FUSE（用户空间文件系统）支持，约占用0.1MB空间
CONFIG_FIRMWARE_ENABLE_FUSE=y

### 启用交换文件/分区支持，约占用0.05MB空间
CONFIG_FIRMWARE_ENABLE_SWAP=n

### 包含UVC摄像头驱动模块，约占用0.2MB空间
CONFIG_FIRMWARE_INCLUDE_UVC=y

### 包含USB-HID（人机接口设备）驱动模块，约占用0.2MB空间
CONFIG_FIRMWARE_INCLUDE_HID=n

### 包含USB-Serial串口驱动模块（如pl2303），约占用0.03MB空间
CONFIG_FIRMWARE_INCLUDE_SERIAL=y

### 包含USB-Audio音频驱动模块，约占用0.46MB空间
CONFIG_FIRMWARE_INCLUDE_AUDIO=y

### 包含XFRM（IPsec）内核模块及iptables扩展，约占用0.2MB空间
CONFIG_FIRMWARE_INCLUDE_XFRM=n

### 包含网络QoS（服务质量）调度模块，约占用0.2MB空间
CONFIG_FIRMWARE_INCLUDE_QOS=n

### 包含IMQ（中间队列）模块用于流量整形（会轻微降低性能），约占用0.02MB空间
CONFIG_FIRMWARE_INCLUDE_IMQ=n

### 包含IFB（虚拟入站接口）模块用于流量整形，约占用0.03MB空间
CONFIG_FIRMWARE_INCLUDE_IFB=n

### 包含IPSet工具及内核模块，约占用0.4MB空间
CONFIG_FIRMWARE_INCLUDE_IPSET=y

### 包含NFSv3服务器，约占用0.6MB空间
CONFIG_FIRMWARE_INCLUDE_NFSD=n

### 包含NFSv3客户端，约占用0.5MB空间
CONFIG_FIRMWARE_INCLUDE_NFSC=n

### 包含CIFS（SMB）客户端，约占用0.2MB空间
CONFIG_FIRMWARE_INCLUDE_CIFS=n

############################################################
### 用户空间配置
############################################################

### 包含WebUI国际化资源（会增加固件体积）
CONFIG_FIRMWARE_INCLUDE_LANG_CN=y    # 包含简体中文语言包
#CONFIG_FIRMWARE_INCLUDE_LANG_BR=y    # 包含巴西葡萄牙语语言包
#CONFIG_FIRMWARE_INCLUDE_LANG_CZ=y    # 包含捷克语语言包
#CONFIG_FIRMWARE_INCLUDE_LANG_DA=y    # 包含丹麦语语言包
#CONFIG_FIRMWARE_INCLUDE_LANG_DE=y    # 包含德语语言包
#CONFIG_FIRMWARE_INCLUDE_LANG_ES=y    # 包含西班牙语语言包
#CONFIG_FIRMWARE_INCLUDE_LANG_FI=y    # 包含芬兰语语言包
#CONFIG_FIRMWARE_INCLUDE_LANG_FR=y    # 包含法语语言包
#CONFIG_FIRMWARE_INCLUDE_LANG_NO=y    # 包含挪威语语言包
#CONFIG_FIRMWARE_INCLUDE_LANG_PL=y    # 包含波兰语语言包
#CONFIG_FIRMWARE_INCLUDE_LANG_RU=y    # 包含俄语语言包
#CONFIG_FIRMWARE_INCLUDE_LANG_SV=y    # 包含瑞典语语言包
#CONFIG_FIRMWARE_INCLUDE_LANG_UK=y    # 包含乌克兰语语言包

### 包含NTFS-3G FUSE驱动（替代Paragon "ufsd"），约占用0.4MB空间
CONFIG_FIRMWARE_INCLUDE_NTFS_3G=n

### 包含LPR打印机守护进程，约占用0.12MB空间
CONFIG_FIRMWARE_INCLUDE_LPRD=y

### 包含USB转以太网打印机守护进程，约占用0.05MB空间
CONFIG_FIRMWARE_INCLUDE_U2EC=y

### 包含tcpdump网络抓包工具，约占用0.6MB空间
CONFIG_FIRMWARE_INCLUDE_TCPDUMP=y

### 包含hdparm工具（可设置硬盘休眠超时和APM参数），约占用0.1MB空间
CONFIG_FIRMWARE_INCLUDE_HDPARM=y

### 包含parted分区工具（支持创建GPT分区），约占用0.3MB空间
CONFIG_FIRMWARE_INCLUDE_PARTED=y

### 包含SMB（及WINS）服务器，约占用1.5MB空间
CONFIG_FIRMWARE_INCLUDE_SMBD=y

### 使用samba3.6版本替代samba3版本
CONFIG_FIRMWARE_INCLUDE_SMBD36=y

### 仅包含WINS服务器，约占用0.4MB空间
CONFIG_FIRMWARE_INCLUDE_WINS=n

### 为SMB和WINS服务器包含syslog日志功能，约占用0.3MB空间
CONFIG_FIRMWARE_INCLUDE_SMBD_SYSLOG=n

### 包含FTP服务器，约占用0.2MB空间
CONFIG_FIRMWARE_INCLUDE_FTPD=y

### 包含备用L2TP控制客户端RP-L2TP，约占用0.1MB空间
CONFIG_FIRMWARE_INCLUDE_RPL2TP=n

### 包含EAP-TTLS和EAP-PEAP认证支持（openssl约1.2MB，wpa_supplicant增加0.04MB）
CONFIG_FIRMWARE_INCLUDE_EAP_PEAP=y

### 包含HTTPS支持（openssl约1.2MB）
CONFIG_FIRMWARE_INCLUDE_HTTPS=n

### 包含sftp-server（openssl约1.2MB，sftp-server约0.06MB）
CONFIG_FIRMWARE_INCLUDE_SFTP=y

### 包含dropbear SSH服务器/客户端，约占用0.3MB空间
CONFIG_FIRMWARE_INCLUDE_DROPBEAR=n

### 优化dropbear对称加密和哈希算法性能，约占用0.06MB空间
CONFIG_FIRMWARE_INCLUDE_DROPBEAR_FAST_CODE=n

### 使用OpenSSH替代dropbear（openssl约1.2MB，openssh约1.0MB）
CONFIG_FIRMWARE_INCLUDE_OPENSSH=y

### 包含OpenVPN（需启用IPv6，openssl约1.2MB，openvpn约0.4MB）
CONFIG_FIRMWARE_INCLUDE_OPENVPN=y

### 包含StrongSwan（IPsec协议栈，XFRM模块约0.2MB，strongswan约0.7MB）
CONFIG_FIRMWARE_INCLUDE_SSWAN=n

### 为openssl库添加椭圆曲线（EC）支持，约占用0.1MB空间
CONFIG_FIRMWARE_INCLUDE_OPENSSL_EC=y

### 包含openssl可执行文件（用于生成证书），约占用0.4MB空间
CONFIG_FIRMWARE_INCLUDE_OPENSSL_EXE=y

### 包含xUPNPd IPTV媒体服务器，约占用0.3MB空间
CONFIG_FIRMWARE_INCLUDE_XUPNPD=y

### 包含Minidlna UPnP媒体服务器，约占用1.6MB空间
CONFIG_FIRMWARE_INCLUDE_MINIDLNA=n

### 包含Firefly iTunes媒体服务器，约占用1.0MB空间
CONFIG_FIRMWARE_INCLUDE_FIREFLY=n

### 为Minidlna和Firefly使用ffmpeg 0.11.x版本替代0.6.x，约占用0.1MB空间
CONFIG_FIRMWARE_INCLUDE_FFMPEG_NEW=y

### 包含Transmission BT下载工具（openssl约1.2MB，transmission约1.5MB）
CONFIG_FIRMWARE_INCLUDE_TRANSMISSION=n

### 包含Transmission-Web-Control高级Web管理界面，约占用0.8MB空间
CONFIG_FIRMWARE_INCLUDE_TRANSMISSION_WEB_CONTROL=n

### 包含Aria2下载管理器（openssl约1.2MB，aria2约3.5MB）
CONFIG_FIRMWARE_INCLUDE_ARIA=y

### 包含Aria2 WEB管理界面，约占用0.7MB空间
CONFIG_FIRMWARE_INCLUDE_ARIA_WEB_CONTROL=y

### 包含curl网络传输工具
CONFIG_FIRMWARE_INCLUDE_CURL=y

### 包含SCUT校园网客户端
CONFIG_FIRMWARE_INCLUDE_SCUTCLIENT=n

### 包含GDUT DRCOM校园网客户端
CONFIG_FIRMWARE_INCLUDE_GDUT_DRCOM=n

### 包含DogCom校园网客户端
CONFIG_FIRMWARE_INCLUDE_DOGCOM=y

### 包含MiniEAP校园网认证客户端
CONFIG_FIRMWARE_INCLUDE_MINIEAP=y

### 包含NJIT校园网客户端
CONFIG_FIRMWARE_INCLUDE_NJIT_CLIENT=y

### 包含NAPT66 IPv6网络地址转换工具
CONFIG_FIRMWARE_INCLUDE_NAPT66=y

### 包含SoftEther VPN服务器
CONFIG_FIRMWARE_INCLUDE_SOFTETHERVPN_SERVER=n

### 包含SoftEther VPN客户端
CONFIG_FIRMWARE_INCLUDE_SOFTETHERVPN_CLIENT=n

### 包含SoftEther VPN命令行工具
CONFIG_FIRMWARE_INCLUDE_SOFTETHERVPN_CMD=n

### 包含vlmcsd KMS激活服务器
CONFIG_FIRMWARE_INCLUDE_VLMCSD=y

### 包含ttyd Web终端工具
CONFIG_FIRMWARE_INCLUDE_TTYD=y

### 包含lrzsz串口文件传输工具
CONFIG_FIRMWARE_INCLUDE_LRZSZ=y

### 包含htop系统监控工具
CONFIG_FIRMWARE_INCLUDE_HTOP=y

### 包含nano文本编辑器
CONFIG_FIRMWARE_INCLUDE_NANO=y

### 包含iperf3网络性能测试工具
CONFIG_FIRMWARE_INCLUDE_IPERF3=y

### 包含dump1090 ADS-B信号接收工具
CONFIG_FIRMWARE_INCLUDE_DUMP1090=y

### 包含rtl-sdr软件无线电工具
CONFIG_FIRMWARE_INCLUDE_RTL_SDR=y

### 包含mtr网络诊断工具（整合ping和traceroute）
CONFIG_FIRMWARE_INCLUDE_MTR=y

### 包含socat多功能网络工具
CONFIG_FIRMWARE_INCLUDE_SOCAT=y

### 包含srelay SOCKS代理工具
CONFIG_FIRMWARE_INCLUDE_SRELAY=y

### 包含Mentohust校园网认证客户端
CONFIG_FIRMWARE_INCLUDE_MENTOHUST=n

### 包含frp客户端（内网穿透）
CONFIG_FIRMWARE_INCLUDE_FRPC=n

### 包含frp服务端（内网穿透）
CONFIG_FIRMWARE_INCLUDE_FRPS=n

### 包含Tunsafe VPN工具
CONFIG_FIRMWARE_INCLUDE_TUNSAFE=n

### 包含WireGuard VPN工具
CONFIG_FIRMWARE_INCLUDE_WIREGUARD=n
